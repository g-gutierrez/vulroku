{"ast":null,"code":"var _jsxFileName = \"/Users/grg/dev/repos/vulroku/client/src/Components/SignUp/index.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport styled from 'styled-components';\nimport { GoogleLogin } from 'react-google-login'; // refresh token\n\nimport { refreshTokenSetup } from '../../Utils/refreshToken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignupPage = styled.div`\nmargin: 0 auto 0 auto;\n@media (min-width: 482px) {\n  max-width: 449px;\n}\n\n@media (min-width: 701px) {\n  max-width: 668px;\n}\n\n@media (min-width: 1026px) {\n  max-width: 946px;\n}\n> h1 {\n  color: #7D7B6D;\n  font-size: 24px;\n  line-height: 28px;\n  font-weight: 700;\n  text-align: center;\n  margin-top: 34px;\n  margin-bottom: 24px;\n  @media (max-width: 701px) {\n    margin-top: 100px;\n  }\n}\n> form {\n  background-color: #7D7B6D;\n  border: 1px solid #e9eced;\n  border-radius: 4px;\n  padding: 32px 72px 40px;\n  margin-bottom: 40px;\n  margin: auto;\n  @media (max-width: 701px) {\n    border: none;\n  }\n  > input {\n    width: 100%;\n    background-color: #fff;\n    border: 1px solid #d3d4d5;\n    border-radius: 4px;\n    padding: 13px 15px;\n    font-size: 16px;\n    vertical-align: middle;\n    line-height: 24px;\n    margin: 0 0 5px;\n  }\n  > label {\n    color: #FFE033;\n    display: block;\n    margin: 4px 0 4px 0;\n    font-weight: 700;\n  }\n  > p {\n    text-align: center;\n    margin-top: 16px;\n    font-size: 12px;\n    line-height: 18px;\n  }\n  > button {\n    width: 100%;\n    text-align: center;\n    box-sizing: border-box;\n    display: inline-block;\n    vertical-align: middle;\n    white-space: nowrap;\n    cursor: pointer;\n    margin: 0;\n    line-height: 24px;\n    font-size: 16px;\n    font-weight: 700;\n    margin: 10px 0 0 0;\n    user-select: none;\n    border-radius: 4px;\n    padding: 12px 22px;\n    overflow: visible;\n    background-color: #FFE033;\n    border: 2px solid transparent;\n    color: #7D7B6D;\n  }\n  > div {\n    display: flex;\n    align-items: center;\n    font-weight: 400;\n    color: #676d73;\n    margin-top: 16px;\n    margin-bottom: 16px;\n  }\n  a {\n    color: #009fd9;\n    fill: #009fd9;\n    cursor: pointer;\n  }\n}\n`;\n_c = SignupPage;\nconst SignupChoice = styled.div`\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  font-weight: 400;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  :before {\n    content: '';\n    display: block;\n    flex: 1;\n    background: #e9eced;\n    height: 1px;\n    z-index: 1;\n  }\n  :after {\n    content: '';\n    display: block;\n    flex: 1;\n    background: #e9eced;\n    height: 1px;\n    z-index: 1;\n  }\n  > span {\n    color: #FFE033;\n    margin: 0 10px 0 10px;\n  }\n`;\n_c2 = SignupChoice;\nconst clientId = '827360591703-tgm50hh32gmsb3af5l2fi5kl8bd0v1j0.apps.googleusercontent.com';\nexport default class SignUp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSuccess = res => {\n      console.log('Login Success: currentUser:', res.profileObj); // alert(\n      //   `Logged in successfully welcome ${res.profileObj.name}`\n      // );\n\n      console.log(res.profileObj.email);\n      const {\n        firstName,\n        lastName,\n        email,\n        password\n      } = this.state;\n      const formData = {\n        \"firstName\": res.profileObj.givenName,\n        \"lastName\": res.profileObj.familyName,\n        \"email\": res.profileObj.email,\n        \"password\": res.profileObj.givenName\n      };\n      axios.post(\"/api/sign-up\", formData).then(res => {\n        console.log(\"******SIGN-UP!*****\", res);\n\n        if (res.data) {\n          // this.setState({\n          //   success: true,\n          // });\n          // console.log(this.state.success);\n          //   this.props.setAuth(true);\n          //   this.props.setUser(res.data.id);\n          // localStorage.setItem('user',res.data.id);\n          axios.post(\"/api/login\", formData).then(res => {\n            console.log(\"*****LOGGED IN!******\", res);\n\n            if (res.data) {\n              // this.setState({\n              //   success: true,\n              //   // isLoggedIn: true,\n              // });\n              localStorage.setItem('user', res.data.id);\n              console.log(res.data);\n              this.props.setAuth(true);\n              this.props.setUser(res.data.id);\n            }\n          });\n        }\n      }); // this.props.setAuth(true);\n\n      refreshTokenSetup(res);\n    };\n\n    this.onFailure = res => {\n      console.log('Login failed: res:', res);\n      alert(`Failed to login.`);\n    };\n\n    this.state = {\n      firstName: \"\",\n      lastname: \"\",\n      email: \"\",\n      password: \"\"\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleInputChange(event) {\n    const formType = event.target.id;\n    this.setState({\n      [formType]: event.target.value\n    });\n  }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    const {\n      firstName,\n      lastName,\n      email,\n      password\n    } = this.state;\n    const formData = {\n      \"firstName\": firstName,\n      \"lastName\": lastName,\n      \"email\": email,\n      \"password\": password\n    };\n    console.log(\"****\", this.props);\n    axios.post(\"/api/sign-up\", formData).then(res => {\n      console.log(\"******SIGN-UP!*****\", res);\n\n      if (res.data) {\n        // this.setState({\n        //   success: true,\n        // });\n        // console.log(this.state.success);\n        //   this.props.setAuth(true);\n        //   this.props.setUser(res.data.id);\n        // localStorage.setItem('user',res.data.id);\n        axios.post(\"/api/login\", formData).then(res => {\n          console.log(\"*****LOGGED IN!******\", res);\n\n          if (res.data) {\n            // this.setState({\n            //   success: true,\n            //   // isLoggedIn: true,\n            // });\n            localStorage.setItem('user', res.data.id);\n            console.log(res.data);\n            this.props.setAuth(true);\n            this.props.setUser(res.data.id);\n          }\n        });\n      }\n    });\n  }\n\n  renderSuccessMessage() {\n    let result = null;\n\n    if (this.state.success) {\n      result = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: \"You've officially signed up!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this);\n    }\n\n    return result;\n  }\n\n  disableForm() {\n    let result = false;\n\n    if (this.state.success) {\n      result = true;\n    }\n\n    return result;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(SignupPage, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Account Creation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleFormSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"first_name\",\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.handleInputChange,\n          name: \"firstName\",\n          id: \"first_name\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"last_name\",\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.handleInputChange,\n          name: \"lastName\",\n          id: \"last_name\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.handleInputChange,\n          name: \"email\",\n          type: \"text\",\n          id: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.handleInputChange,\n          name: \"password\",\n          type: \"password\",\n          id: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Create account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SignupChoice, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"OR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n          clientId: clientId,\n          buttonText: \"Log In with Google\",\n          onSuccess: this.onSuccess,\n          onFailure: this.onFailure,\n          cookiePolicy: 'single_host_origin',\n          style: {\n            marginTop: '100px'\n          },\n          isSignedIn: true // uxMode=\"redirect\"\n          // redirectURI=\"http://localhost:3000/\"\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SignupPage\");\n$RefreshReg$(_c2, \"SignupChoice\");","map":{"version":3,"sources":["/Users/grg/dev/repos/vulroku/client/src/Components/SignUp/index.js"],"names":["React","Component","axios","styled","GoogleLogin","refreshTokenSetup","SignupPage","div","SignupChoice","clientId","SignUp","constructor","props","onSuccess","res","console","log","profileObj","email","firstName","lastName","password","state","formData","givenName","familyName","post","then","data","localStorage","setItem","id","setAuth","setUser","onFailure","alert","lastname","handleInputChange","bind","handleFormSubmit","event","formType","target","setState","value","preventDefault","renderSuccessMessage","result","success","disableForm","render","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,WAAT,QAA4B,oBAA5B,C,CACA;;AACA,SAASC,iBAAT,QAAkC,0BAAlC;;AAEA,MAAMC,UAAU,GAAGH,MAAM,CAACI,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA7FA;KAAMD,U;AA8FN,MAAME,YAAY,GAAGL,MAAM,CAACI,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA3BA;MAAMC,Y;AA6BN,MAAMC,QAAQ,GACZ,0EADF;AAGA,eAAe,MAAMC,MAAN,SAAqBT,SAArB,CAA+B;AAC1CU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAwFlBC,SAxFkB,GAwFLC,GAAD,IAAS;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CF,GAAG,CAACG,UAA/C,EADoB,CAEpB;AACA;AACA;;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,UAAJ,CAAeC,KAA3B;AACA,YAAM;AACJC,QAA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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport styled from 'styled-components';\nimport { GoogleLogin } from 'react-google-login';\n// refresh token\nimport { refreshTokenSetup } from '../../Utils/refreshToken';\n\nconst SignupPage = styled.div`\nmargin: 0 auto 0 auto;\n@media (min-width: 482px) {\n  max-width: 449px;\n}\n\n@media (min-width: 701px) {\n  max-width: 668px;\n}\n\n@media (min-width: 1026px) {\n  max-width: 946px;\n}\n> h1 {\n  color: #7D7B6D;\n  font-size: 24px;\n  line-height: 28px;\n  font-weight: 700;\n  text-align: center;\n  margin-top: 34px;\n  margin-bottom: 24px;\n  @media (max-width: 701px) {\n    margin-top: 100px;\n  }\n}\n> form {\n  background-color: #7D7B6D;\n  border: 1px solid #e9eced;\n  border-radius: 4px;\n  padding: 32px 72px 40px;\n  margin-bottom: 40px;\n  margin: auto;\n  @media (max-width: 701px) {\n    border: none;\n  }\n  > input {\n    width: 100%;\n    background-color: #fff;\n    border: 1px solid #d3d4d5;\n    border-radius: 4px;\n    padding: 13px 15px;\n    font-size: 16px;\n    vertical-align: middle;\n    line-height: 24px;\n    margin: 0 0 5px;\n  }\n  > label {\n    color: #FFE033;\n    display: block;\n    margin: 4px 0 4px 0;\n    font-weight: 700;\n  }\n  > p {\n    text-align: center;\n    margin-top: 16px;\n    font-size: 12px;\n    line-height: 18px;\n  }\n  > button {\n    width: 100%;\n    text-align: center;\n    box-sizing: border-box;\n    display: inline-block;\n    vertical-align: middle;\n    white-space: nowrap;\n    cursor: pointer;\n    margin: 0;\n    line-height: 24px;\n    font-size: 16px;\n    font-weight: 700;\n    margin: 10px 0 0 0;\n    user-select: none;\n    border-radius: 4px;\n    padding: 12px 22px;\n    overflow: visible;\n    background-color: #FFE033;\n    border: 2px solid transparent;\n    color: #7D7B6D;\n  }\n  > div {\n    display: flex;\n    align-items: center;\n    font-weight: 400;\n    color: #676d73;\n    margin-top: 16px;\n    margin-bottom: 16px;\n  }\n  a {\n    color: #009fd9;\n    fill: #009fd9;\n    cursor: pointer;\n  }\n}\n`;\nconst SignupChoice = styled.div`\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  font-weight: 400;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  :before {\n    content: '';\n    display: block;\n    flex: 1;\n    background: #e9eced;\n    height: 1px;\n    z-index: 1;\n  }\n  :after {\n    content: '';\n    display: block;\n    flex: 1;\n    background: #e9eced;\n    height: 1px;\n    z-index: 1;\n  }\n  > span {\n    color: #FFE033;\n    margin: 0 10px 0 10px;\n  }\n`;\n\nconst clientId =\n  '827360591703-tgm50hh32gmsb3af5l2fi5kl8bd0v1j0.apps.googleusercontent.com';\n\nexport default class SignUp extends Component {\n    constructor(props) {\n      super(props);\n  \n      this.state = {\n        firstName: \"\",\n        lastname: \"\",\n        email: \"\",\n        password: \"\",\n      };\n      this.handleInputChange = this.handleInputChange.bind(this);\n      this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    }\n  \n    handleInputChange(event) {\n      const formType = event.target.id;\n      this.setState({\n        [formType]: event.target.value,\n      });\n    }\n  \n    handleFormSubmit(event) {\n      event.preventDefault();\n      const {\n        firstName,\n        lastName,\n        email,\n        password,\n  \n      } = this.state;\n      const formData = {\n        \"firstName\": firstName,\n        \"lastName\": lastName,\n        \"email\": email,\n        \"password\": password,\n      };\n  \n  \n      console.log(\"****\",this.props);\n  \n      axios.post(\"/api/sign-up\", formData).then((res) => {\n        console.log(\"******SIGN-UP!*****\",res);\n        if (res.data) {\n          // this.setState({\n          //   success: true,\n          // });\n          // console.log(this.state.success);\n        //   this.props.setAuth(true);\n        //   this.props.setUser(res.data.id);\n        // localStorage.setItem('user',res.data.id);\n        \n        axios.post(\"/api/login\", formData).then((res) => {\n          console.log(\"*****LOGGED IN!******\",res);\n          if (res.data) {\n            // this.setState({\n            //   success: true,\n            //   // isLoggedIn: true,\n            // });\n            localStorage.setItem('user',res.data.id);\n            console.log(res.data);\n            this.props.setAuth(true);\n            this.props.setUser(res.data.id);\n          } \n        });\n        }\n      });\n    }\n  \n    renderSuccessMessage() {\n      let result = null;\n      if (this.state.success) {\n        result = (\n          <div className=\"success-message\">\n            You've officially signed up!\n          </div>\n        );\n      }\n  \n      return result;\n    }\n  \n    disableForm() {\n      let result = false;\n      if (this.state.success) {\n        result = true;\n      }\n      return result;\n    }\n\n     onSuccess = (res) => {\n      console.log('Login Success: currentUser:', res.profileObj);\n      // alert(\n      //   `Logged in successfully welcome ${res.profileObj.name}`\n      // );\n      console.log(res.profileObj.email)\n      const {\n        firstName,\n        lastName,\n        email,\n        password,\n  \n      } = this.state;\n      const formData = {\n        \"firstName\": res.profileObj.givenName,\n        \"lastName\": res.profileObj.familyName,\n        \"email\": res.profileObj.email,\n        \"password\": res.profileObj.givenName\n      };\n\n      axios.post(\"/api/sign-up\", formData).then((res) => {\n        console.log(\"******SIGN-UP!*****\",res);\n        if (res.data) {\n          // this.setState({\n          //   success: true,\n          // });\n          // console.log(this.state.success);\n        //   this.props.setAuth(true);\n        //   this.props.setUser(res.data.id);\n        // localStorage.setItem('user',res.data.id);\n        \n        axios.post(\"/api/login\", formData).then((res) => {\n          console.log(\"*****LOGGED IN!******\",res);\n          if (res.data) {\n            // this.setState({\n            //   success: true,\n            //   // isLoggedIn: true,\n            // });\n            localStorage.setItem('user',res.data.id);\n            console.log(res.data);\n            this.props.setAuth(true);\n            this.props.setUser(res.data.id);\n          } \n        });\n        }\n      });\n\n\n\n\n      // this.props.setAuth(true);\n      refreshTokenSetup(res);\n  \n    };\n\n     onFailure = (res) => {\n      console.log('Login failed: res:', res);\n      alert(\n        `Failed to login.`\n      );\n    };\n\n    render() {\n      return (\n        <SignupPage>\n          <h1>Account Creation</h1>\n          <form onSubmit={this.handleFormSubmit}>\n          <label htmlFor=\"first_name\">First Name</label>\n            <input\n              onChange={this.handleInputChange}\n              name=\"firstName\"\n              id=\"first_name\"\n              type=\"text\"\n            />\n            <label htmlFor=\"last_name\">Last Name</label>\n            <input\n              onChange={this.handleInputChange}\n              name=\"lastName\"\n              id=\"last_name\"\n              type=\"text\"\n            />\n            <label htmlFor=\"email\">Email address</label>\n            <input\n              onChange={this.handleInputChange}\n              name=\"email\"\n              type=\"text\"\n              id=\"email\"\n            />\n            <label htmlFor=\"password\">Password</label>\n            <input\n              onChange={this.handleInputChange}\n              name=\"password\"\n              type=\"password\"\n              id=\"password\"\n            />\n            <button type=\"submit\">Create account</button>\n            <SignupChoice>\n              <span>OR</span>\n            </SignupChoice>\n{/*          <fieldset\n              className=\"form-fields container\"\n              disabled={this.disableForm()}>\n              <div className=\"form-group\">\n                <label>First Name</label>\n                  <input \n                  type=\"text\" \n                  className=\"form-control\" \n                  placeholder=\"Enter email\"\n                  id=\"firstName\"\n                  name=\"firstName\"\n                  placeholder=\"First Name\"\n                  onChange={this.handleInputChange} />\n              </div>\n            <div className=\"form-group\">\n              <label>Last Name</label>\n                <input \n                type=\"text\" \n                className=\"form-control\" \n                placeholder=\"Enter email\"\n                id=\"lastName\"\n                name=\"lastName\"\n                placeholder=\"Last Name\"\n                onChange={this.handleInputChange} />\n            </div>\n            <div className=\"form-group\">\n              <label>Email</label>\n                <input \n                type=\"email\" \n                className=\"form-control\" \n                placeholder=\"Enter email\"\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                onChange={this.handleInputChange} />\n            </div>\n            <div className=\"form-group\">\n              <label>Password</label>\n                <input \n                type=\"password\" \n                className=\"form-control\" \n                placeholder=\"Enter email\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                onChange={this.handleInputChange} /> \n            </div>\n              <button type=\"submit\" className=\"btn btn-primary btn-block\" value=\"Submit\">Sign Up</button>\n              {this.renderSuccessMessage()}\n              <p className=\"forgot-password text-right\">\n              <a href=\"/sign-in\">Already a member? Sign in</a>\n              </p>\n              <p>OR</p>\n<div>*/}\n            <GoogleLogin\n              clientId={clientId}\n              buttonText=\"Log In with Google\"\n              onSuccess={this.onSuccess}\n              onFailure={this.onFailure}\n              cookiePolicy={'single_host_origin'}\n              style={{ marginTop: '100px' }}\n              isSignedIn={true}\n          // uxMode=\"redirect\"\n          // redirectURI=\"http://localhost:3000/\"\n        />\n{/*              </div>\n</fieldset>*/}\n        </form>\n{/*        </div>*/}\n        </SignupPage>\n      )\n    }\n  }\n\n  "]},"metadata":{},"sourceType":"module"}