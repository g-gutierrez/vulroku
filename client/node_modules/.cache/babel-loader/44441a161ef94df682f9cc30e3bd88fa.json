{"ast":null,"code":"var _jsxFileName = \"/Users/grg/dev/repos/Vulcan/client/src/Components/Login/index.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport styled from 'styled-components';\nimport LoginButton from \"../LoginButton\";\nimport LogoutButton from \"../LogoutButton\"; // import { Redirect } from \"react-router-dom\"\n// import AuthContext from \"../../Utils/AuthContext\"\n\nimport { GoogleLogin } from 'react-google-login'; // refresh token\n\nimport { refreshTokenSetup } from '../../Utils/refreshToken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = styled.div`\nmargin: 0 auto 0 auto;\n@media (min-width: 482px) {\n  max-width: 449px;\n}\n\n@media (min-width: 701px) {\n  max-width: 668px;\n}\n\n@media (min-width: 1026px) {\n  max-width: 946px;\n}\n> h1 {\n  color: #7D7B6D;\n  font-size: 24px;\n  line-height: 28px;\n  font-weight: 700;\n  text-align: center;\n  margin-top: 34px;\n  margin-bottom: 24px;\n  @media (max-width: 701px) {\n    margin-top: 100px;\n  }\n}\n> form {\n  background-color: #7D7B6D;\n  border: 1px solid #e9eced;\n  border-radius: 4px;\n  padding: 32px 72px 40px;\n  margin-bottom: 40px;\n  margin: auto;\n  @media (max-width: 701px) {\n    border: none;\n  }\n  > input {\n    width: 100%;\n    background-color: #fff;\n    border: 1px solid #d3d4d5;\n    border-radius: 4px;\n    padding: 13px 15px;\n    font-size: 16px;\n    vertical-align: middle;\n    line-height: 24px;\n    margin: 0 0 5px;\n  }\n  > label {\n    color: #FFE033;\n    display: block;\n    margin: 4px 0 4px 0;\n    font-weight: 700;\n  }\n  > p {\n    text-align: center;\n    margin-top: 16px;\n    font-size: 12px;\n    line-height: 18px;\n  }\n  > button {\n    width: 100%;\n    text-align: center;\n    box-sizing: border-box;\n    display: inline-block;\n    vertical-align: middle;\n    white-space: nowrap;\n    cursor: pointer;\n    margin: 0;\n    line-height: 24px;\n    font-size: 16px;\n    font-weight: 700;\n    margin: 10px 0 0 0;\n    user-select: none;\n    border-radius: 4px;\n    padding: 12px 22px;\n    overflow: visible;\n    background-color: #FFE033;\n    border: 2px solid transparent;\n    color: #7D7B6D;\n  }\n  > div {\n    display: flex;\n    align-items: center;\n    font-weight: 400;\n    color: #676d73;\n    margin-top: 16px;\n    margin-bottom: 16px;\n  }\n  a {\n    color: #009fd9;\n    fill: #009fd9;\n    cursor: pointer;\n  }\n}\n`;\n_c = LoginPage;\nconst LoginComponent = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin: 2px 0;\n  color: #FFE033;\n  > div {\n    display: flex;\n    align-items: center;\n    > input {\n      height: 25px;\n      width: 25px;\n      margin: 0 10px 0 0;\n      background: #ffffff;\n      border: 2px solid #d3d4d5;\n    }\n  }\n  > a {\n    color: #FFE033;\n    text-decoration: none;\n  }\n  > a:link {\n    color: #FFE033;\n  }\n`;\n_c2 = LoginComponent;\nconst LoginChoice = styled.div`\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  font-weight: 400;\n  color: #676d73;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  :before {\n    content: '';\n    display: block;\n    flex: 1;\n    background: #e9eced;\n    height: 1px;\n    z-index: 1;\n  }\n  :after {\n    content: '';\n    display: block;\n    flex: 1;\n    background: #e9eced;\n    height: 1px;\n    z-index: 1;\n  }\n  > span {\n    color: #FFE033;\n    margin: 0 10px 0 10px;\n  }\n`;\n_c3 = LoginChoice;\nconst clientId = '827360591703-tgm50hh32gmsb3af5l2fi5kl8bd0v1j0.apps.googleusercontent.com';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSuccess = res => {\n      console.log('Login Success: currentUser:', res.profileObj);\n      const {\n        email\n      } = this.state;\n      const formData = {\n        \"email\": res.profileObj.email\n      };\n      console.log(formData);\n      axios.post(\"/api/gusers\", formData).then(res => {\n        console.log(\"*****google-login-test!******\", res.data);\n        localStorage.setItem('user', res.data[0].id);\n        this.props.setAuth(true);\n      });\n      refreshTokenSetup(res);\n    };\n\n    this.onFailure = res => {\n      console.log('Login failed: res:', res);\n      alert(`Failed to login.`);\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\"\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this); //this.state = {isLoggedIn: false}\n  }\n\n  handleInputChange(event) {\n    const formType = event.target.id;\n    this.setState({\n      [formType]: event.target.value\n    });\n  }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    const {\n      email,\n      password\n    } = this.state;\n    const formData = {\n      \"email\": email,\n      \"password\": password\n    };\n    console.log(\"****\", this.props); // this.setState({isLoggedIn: true})\n    // let isLoggedIn = this.context.isLoggedIn\n\n    axios.post(\"/api/login\", formData).then(res => {\n      console.log(\"*****LOGGED IN!******\", res);\n\n      if (res.data) {\n        // this.setState({\n        //   success: true,\n        //   // isLoggedIn: true,\n        // });\n        console.log(res.data);\n        this.props.setAuth(true);\n        this.props.setUser(res.data.id);\n        localStorage.setItem('user', res.data.id);\n      }\n    });\n  }\n\n  renderSuccessMessage() {\n    let result = null;\n\n    if (this.state.success) {\n      this.context.update({\n        isLoggedIn: true\n      });\n    }\n\n    return result;\n  }\n\n  disableForm() {\n    let result = false;\n\n    if (this.state.success) {\n      result = true;\n    }\n\n    return result;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(LoginPage, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleFormSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"email\",\n          name: \"email\",\n          onChange: this.handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          name: \"password\",\n          onChange: this.handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), this.renderSuccessMessage(), /*#__PURE__*/_jsxDEV(LoginComponent, {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/sign-up\",\n            children: \"Forgot password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/sign-up\",\n            children: \"Create an account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LoginChoice, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"OR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {\n          clientId: clientId,\n          buttonText: \"Login with Google\",\n          onSuccess: this.onSuccess,\n          onFailure: this.onFailure,\n          cookiePolicy: 'single_host_origin',\n          style: {\n            marginTop: '100px'\n          },\n          isSignedIn: true // uxMode=\"redirect\"\n          // redirectURI=\"http://localhost:3000\"\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }, this);\n  }\n\n} //Login.contextType = AuthContext\n\n\nexport default Login;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"LoginPage\");\n$RefreshReg$(_c2, \"LoginComponent\");\n$RefreshReg$(_c3, \"LoginChoice\");","map":{"version":3,"sources":["/Users/grg/dev/repos/Vulcan/client/src/Components/Login/index.js"],"names":["React","Component","axios","styled","LoginButton","LogoutButton","GoogleLogin","refreshTokenSetup","LoginPage","div","LoginComponent","LoginChoice","clientId","Login","constructor","props","onSuccess","res","console","log","profileObj","email","state","formData","post","then","data","localStorage","setItem","id","setAuth","onFailure","alert","password","handleInputChange","bind","handleFormSubmit","event","formType","target","setState","value","preventDefault","setUser","renderSuccessMessage","result","success","context","update","isLoggedIn","disableForm","render","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,YAAP,MAAyB,iBAAzB,C,CACA;AACA;;AAEA,SAASC,WAAT,QAA4B,oBAA5B,C,CACA;;AACA,SAASC,iBAAT,QAAkC,0BAAlC;;AAEA,MAAMC,SAAS,GAAGL,MAAM,CAACM,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA7FA;KAAMD,S;AA8FN,MAAME,cAAc,GAAGP,MAAM,CAACM,GAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAzBA;MAAMC,c;AA0BN,MAAMC,WAAW,GAAGR,MAAM,CAACM,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA5BA;MAAME,W;AA8BN,MAAMC,QAAQ,GACZ,0EADF;;AAGA,MAAMC,KAAN,SAAoBZ,SAApB,CAA8B;AAE5Ba,EA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","sourcesContent":["import React, {Component} from 'react';\nimport axios from \"axios\"\nimport styled from 'styled-components';\nimport LoginButton from \"../LoginButton\"\nimport LogoutButton from \"../LogoutButton\"\n// import { Redirect } from \"react-router-dom\"\n// import AuthContext from \"../../Utils/AuthContext\"\n\nimport { GoogleLogin } from 'react-google-login';\n// refresh token\nimport { refreshTokenSetup } from '../../Utils/refreshToken';\n\nconst LoginPage = styled.div`\nmargin: 0 auto 0 auto;\n@media (min-width: 482px) {\n  max-width: 449px;\n}\n\n@media (min-width: 701px) {\n  max-width: 668px;\n}\n\n@media (min-width: 1026px) {\n  max-width: 946px;\n}\n> h1 {\n  color: #7D7B6D;\n  font-size: 24px;\n  line-height: 28px;\n  font-weight: 700;\n  text-align: center;\n  margin-top: 34px;\n  margin-bottom: 24px;\n  @media (max-width: 701px) {\n    margin-top: 100px;\n  }\n}\n> form {\n  background-color: #7D7B6D;\n  border: 1px solid #e9eced;\n  border-radius: 4px;\n  padding: 32px 72px 40px;\n  margin-bottom: 40px;\n  margin: auto;\n  @media (max-width: 701px) {\n    border: none;\n  }\n  > input {\n    width: 100%;\n    background-color: #fff;\n    border: 1px solid #d3d4d5;\n    border-radius: 4px;\n    padding: 13px 15px;\n    font-size: 16px;\n    vertical-align: middle;\n    line-height: 24px;\n    margin: 0 0 5px;\n  }\n  > label {\n    color: #FFE033;\n    display: block;\n    margin: 4px 0 4px 0;\n    font-weight: 700;\n  }\n  > p {\n    text-align: center;\n    margin-top: 16px;\n    font-size: 12px;\n    line-height: 18px;\n  }\n  > button {\n    width: 100%;\n    text-align: center;\n    box-sizing: border-box;\n    display: inline-block;\n    vertical-align: middle;\n    white-space: nowrap;\n    cursor: pointer;\n    margin: 0;\n    line-height: 24px;\n    font-size: 16px;\n    font-weight: 700;\n    margin: 10px 0 0 0;\n    user-select: none;\n    border-radius: 4px;\n    padding: 12px 22px;\n    overflow: visible;\n    background-color: #FFE033;\n    border: 2px solid transparent;\n    color: #7D7B6D;\n  }\n  > div {\n    display: flex;\n    align-items: center;\n    font-weight: 400;\n    color: #676d73;\n    margin-top: 16px;\n    margin-bottom: 16px;\n  }\n  a {\n    color: #009fd9;\n    fill: #009fd9;\n    cursor: pointer;\n  }\n}\n`;\nconst LoginComponent = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin: 2px 0;\n  color: #FFE033;\n  > div {\n    display: flex;\n    align-items: center;\n    > input {\n      height: 25px;\n      width: 25px;\n      margin: 0 10px 0 0;\n      background: #ffffff;\n      border: 2px solid #d3d4d5;\n    }\n  }\n  > a {\n    color: #FFE033;\n    text-decoration: none;\n  }\n  > a:link {\n    color: #FFE033;\n  }\n`;\nconst LoginChoice = styled.div`\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  font-weight: 400;\n  color: #676d73;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  :before {\n    content: '';\n    display: block;\n    flex: 1;\n    background: #e9eced;\n    height: 1px;\n    z-index: 1;\n  }\n  :after {\n    content: '';\n    display: block;\n    flex: 1;\n    background: #e9eced;\n    height: 1px;\n    z-index: 1;\n  }\n  > span {\n    color: #FFE033;\n    margin: 0 10px 0 10px;\n  }\n`;\n\nconst clientId =\n  '827360591703-tgm50hh32gmsb3af5l2fi5kl8bd0v1j0.apps.googleusercontent.com';\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    //this.state = {isLoggedIn: false}\n  }\n\n  handleInputChange(event) {\n    const formType = event.target.id;\n    this.setState({\n      [formType]: event.target.value,\n    });\n  }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    const {\n      email,\n      password,\n\n    } = this.state;\n    const formData = {\n      \"email\": email,\n      \"password\": password,\n    };\n\n    console.log(\"****\",this.props);\n    // this.setState({isLoggedIn: true})\n\n    // let isLoggedIn = this.context.isLoggedIn\n\n    axios.post(\"/api/login\", formData).then((res) => {\n      console.log(\"*****LOGGED IN!******\",res);\n      if (res.data) {\n        // this.setState({\n        //   success: true,\n        //   // isLoggedIn: true,\n        // });\n        console.log(res.data);\n        this.props.setAuth(true);\n        this.props.setUser(res.data.id);\n        localStorage.setItem('user',res.data.id);\n      } \n    });\n  }\n  \n  renderSuccessMessage() {\n    let result = null;\n    if (this.state.success) {\n      this.context.update({ isLoggedIn: true})\n    }\n\n    return result;\n  }\n\n  disableForm() {\n    let result = false;\n    if (this.state.success) {\n      result = true;\n    }\n    return result;\n  }\n\n\n  onSuccess = (res) => {\n    console.log('Login Success: currentUser:', res.profileObj);\n      const {\n        email,\n      } = this.state;\n      const formData = {\n        \"email\": res.profileObj.email,\n      };\n     console.log(formData)\n    \n    axios.post(\"/api/gusers\", formData).then((res) => {\n      console.log(\"*****google-login-test!******\",res.data);\n      localStorage.setItem('user',res.data[0].id);\n      this.props.setAuth(true);\n      \n    });\n \n\n\n    \n    \n    refreshTokenSetup(res);\n\n  };\n\n  onFailure = (res) => {\n    console.log('Login failed: res:', res);\n    alert(\n      `Failed to login.`\n    );\n  };\n \n    render() {\n      return (\n        <LoginPage>\n        <h1>Welcome Back</h1>\n        <form onSubmit={this.handleFormSubmit}>\n          <label htmlFor=\"email\">Email address</label>\n          <input\n            type=\"text\"\n            id=\"email\"\n            name=\"email\"\n            onChange={this.handleInputChange}\n          />\n          <label htmlFor=\"password\">Password</label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            name=\"password\"\n            onChange={this.handleInputChange}\n          />\n          <button type=\"submit\">Login</button>\n          {this.renderSuccessMessage()}\n          <LoginComponent>\n            <a href=\"/sign-up\">Forgot password?</a>\n            <a href=\"/sign-up\">Create an account?</a>\n          </LoginComponent>\n          <LoginChoice>\n            <span>OR</span>\n          </LoginChoice>\n{/*      <div className=\"container-sm\">\n      <form onSubmit={this.handleFormSubmit}>\n          <fieldset\n            className=\"form-fields container\"\n            disabled={this.disableForm()}>\n            <div className=\"form-group\">\n              <label>Email</label>\n                <input \n                type=\"email\" \n                className=\"form-control\" \n                placeholder=\"Enter email\"\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"Email\"\n                onChange={this.handleInputChange} />\n            </div>\n            <div className=\"form-group\">\n              <label>Password</label>\n                <input \n                type=\"password\" \n                className=\"form-control\" \n                placeholder=\"Enter email\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"Password\"\n                onChange={this.handleInputChange} />\n            </div>\n              <button type=\"submit\" className=\"btn btn-primary btn-block\" value=\"Submit\">Sign In</button>\n              {this.renderSuccessMessage()}\n              <p className=\"forgot-password text-right\">\n              <a href=\"/sign-up\">New? Create an account</a>\n              <br></br>\n              <a href=\"/sign-up\">Forgot password</a>\n              </p>\n      <p>OR</p>\n      <div>*/}\n        <GoogleLogin\n          clientId={clientId}\n          buttonText=\"Login with Google\"\n          onSuccess={this.onSuccess}\n          onFailure={this.onFailure}\n          cookiePolicy={'single_host_origin'}\n          style={{ marginTop: '100px' }}\n          isSignedIn={true}\n          \n          // uxMode=\"redirect\"\n          // redirectURI=\"http://localhost:3000\"\n        />\n{/*      </div>\n</fieldset>*/}\n      </form>\n    </LoginPage>\n    );\n  } \n}\n\n//Login.contextType = AuthContext\n\nexport default Login"]},"metadata":{},"sourceType":"module"}